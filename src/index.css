@import 'tailwindcss';

/* ==========================================================================
   1. Base Variables ("The Inputs")
   ==========================================================================
   This layer defines the raw values (Primitive Tokens).
*/
@layer base {
  :root {
    /* --- COLOR PALETTE (HSL Channels) --- */

    /* Backgrounds & Foreground */
    --background: 0 0% 100%;
    /* Pure White */
    --foreground: 220 48% 8%;
    /* Navy Black */

    /* Surfaces */
    --card: 0 0% 100%;
    --card-foreground: 220 48% 8%;
    --popover: 0 0% 100%;
    --popover-foreground: 220 48% 8%;

    /* Brand & Semantics */
    --primary: 227 100% 57%;
    /* #2454FF (Full Spectrum Blue) */
    --primary-foreground: 0 0% 100%;

    --secondary: 210 40% 96.1%;
    --secondary-foreground: 222.2 47.4% 11.2%;

    --muted: 220 9% 46%;
    /* #6B7280 */
    --muted-foreground: 220 9% 46%;

    --accent: 212 47% 40%;
    /* #376497 (Rangam Blue) */
    --accent-foreground: 0 0% 98%;

    --destructive: 0 72% 40%;
    /* #B42318 */
    --destructive-foreground: 0 0% 98%;

    --border: 36 14% 88%;
    /* #E6E2DC */
    --input: 36 14% 88%;
    --ring: 24 100% 39%;
    /* #C75000 (Rangam Orange) */

    /* --- SHAPES --- */
    --radius: 1rem;

    /* --- SHADOWS (Raw Values) --- */
    /* Elevation System */
    --shadow-1: 0 3px 2px rgba(151, 151, 152, 0.4);
    /* Card Default */
    --shadow-2: 0 3px 4px rgba(151, 151, 152, 0.4);
    /* Hover */
    --shadow-3: 0 6px 6px rgba(151, 151, 152, 0.4);
    /* Modal */
    --shadow-console: 0 -1px 1px rgba(0, 0, 0, 0.05), 0 20px 50px -10px rgba(0, 0, 0, 0.1);

    /* Glows (Subtle Light Mode) */
    --shadow-glow-orange: 0 0 15px rgba(199, 80, 0, 0.15);
    --shadow-glow-navy: 0 0 20px rgba(14, 42, 75, 0.1);
    --shadow-glow-cyan: 0 0 15px rgba(6, 182, 212, 0.15);
  }
}

/* ==========================================================================
   2. Theme Configuration ("The Mapping")
   ==========================================================================
   This layer tells Tailwind HOW to use the variables defined above.
*/
@theme {
  /* Fonts */
  --font-sans: 'Inter', sans-serif;
  --font-display: 'Outfit', sans-serif;

  /* Rangam Brand Colors (Hex literals for brand precision) */
  --color-rangam-orange: #ff4f00;
  --color-rangam-navy: #0e2a4b;
  --color-rangam-blue: #2454ff;
  --color-rangam-green: #138a36;

  /* Semantic Colors (Mapped to Base Vars) */
  --color-background: hsl(var(--background));
  --color-foreground: hsl(var(--foreground));
  --color-card: hsl(var(--card));
  --color-card-foreground: hsl(var(--card-foreground));
  --color-popover: hsl(var(--popover));
  --color-popover-foreground: hsl(var(--popover-foreground));
  --color-primary: hsl(var(--primary));
  --color-primary-foreground: hsl(var(--primary-foreground));
  --color-secondary: hsl(var(--secondary));
  --color-secondary-foreground: hsl(var(--secondary-foreground));
  --color-muted: hsl(var(--muted));
  --color-muted-foreground: hsl(var(--muted-foreground));
  --color-accent: hsl(var(--accent));
  --color-accent-foreground: hsl(var(--accent-foreground));
  --color-destructive: hsl(var(--destructive));
  --color-destructive-foreground: hsl(var(--destructive-foreground));
  --color-border: hsl(var(--border));
  --color-input: hsl(var(--input));
  --color-ring: hsl(var(--ring));

  /* Border Radius */
  --radius-lg: var(--radius);
  --radius-md: calc(var(--radius) - 2px);
  --radius-sm: calc(var(--radius) - 4px);
  --radius-pill: 9999px;

  /* Shadows (Mapped) */
  --shadow-elevation-1: var(--shadow-1);
  --shadow-elevation-2: var(--shadow-2);
  --shadow-elevation-3: var(--shadow-3);
  --shadow-console: var(--shadow-console);

  --shadow-glow-orange: var(--shadow-glow-orange);
  --shadow-glow-navy: var(--shadow-glow-navy);
  --shadow-glow-cyan: var(--shadow-glow-cyan);

  /* Animations */
  --animate-glow-pulse: glow-pulse 3s infinite;

  @keyframes glow-pulse {

    0%,
    100% {
      opacity: 0.8;
    }

    50% {
      opacity: 0.4;
    }
  }
}

/* ==========================================================================
   3. Utilities & Components ("The Custom Logic")
   ==========================================================================
*/
@layer components {

  /* Legacy/Custom Card Utilities */
  .card {
    @apply relative overflow-hidden rounded-3xl bg-white border border-slate-100 transition-all duration-300;
    box-shadow: var(--shadow-elevation-1);
  }

  .card-interactive {
    @apply relative overflow-hidden rounded-3xl bg-white border border-slate-100 transition-all duration-300 cursor-pointer hover:-translate-y-1;
    box-shadow: var(--shadow-elevation-1);
  }

  .card-interactive:hover {
    box-shadow: var(--shadow-elevation-2);
  }
}

@layer utilities {
  .text-gradient-primary {
    @apply bg-clip-text text-transparent bg-linear-to-r from-rangam-navy to-rangam-blue;
  }

  .bg-app-dark {
    @apply bg-zinc-950;
  }

  .bg-app-light {
    @apply bg-white;
  }

  @media (max-width: 768px) {
    .bg-app-dark {
      background: linear-gradient(to bottom right, #09090b, #1e293b);
    }
  }
}

@layer base {
  body {
    background-color: var(--color-background);
    color: var(--color-foreground);
    font-feature-settings:
      'rlig' 1,
      'calt' 1;
  }

  /* Mobile Background Override */
  @media (max-width: 768px) {
    body {
      background: linear-gradient(to bottom right, #ffffff, #f1f5f9) !important;
      background-attachment: fixed !important;
    }
  }

  /* Scrollbar Styling */
  * {
    scrollbar-width: thin;
    scrollbar-color: rgba(14, 42, 75, 0.15) transparent;
  }

  ::-webkit-scrollbar {
    width: 6px;
    height: 6px;
  }

  ::-webkit-scrollbar-track {
    background: transparent;
  }

  ::-webkit-scrollbar-thumb {
    background-color: rgba(14, 42, 75, 0.15);
    border-radius: 9999px;
  }

  ::-webkit-scrollbar-thumb:hover {
    background-color: rgba(14, 42, 75, 0.25);
  }

  /* Autofill styling override for light mode */
  input:-webkit-autofill,
  input:-webkit-autofill:hover,
  input:-webkit-autofill:focus,
  input:-webkit-autofill:active {
    -webkit-box-shadow: 0 0 0 30px #ffffff inset !important;
    -webkit-text-fill-color: #0b1220 !important;
    caret-color: #0b1220 !important;
    border-radius: 0.75rem !important;
  }
}

@layer components {

  /* App Background Layer per .untracked/bg.md */
  :root {
    --orb-shadow: 2.8px 2.8px 0 rgba(0, 0, 0, 0.17);
  }

  .app-bg {
    position: fixed;
    inset: 0;
    z-index: -1;
    overflow: hidden;
    /* background: linear-gradient(135deg, var(--color-rangam-blue) 0%, var(--color-rangam-orange) 100%); */
    pointer-events: none;
  }

  .app-bg::after {
    content: "";
    position: absolute;
    inset: 0;
    pointer-events: none;
    background: rgba(250, 250, 250, 0.9);
  }

  /* Orbs commented out per user request
  .orb {
    position: absolute;
    border-radius: 9999px;
    box-shadow: var(--orb-shadow);
    transform: translateZ(0);
    pointer-events: none;
  }

  .orb-1 {
    width: 75%;
    aspect-ratio: 1/1;
    left: -38.8333%;
    top: -60%;
    filter: blur(6.7px);
    background: linear-gradient(180deg,
        rgba(36, 84, 255, 0.10) 0%,
        rgba(3, 10, 30, 0.10) 100%);
  }

  .orb-2 {
    width: 66.6667%;
    aspect-ratio: 1/1;
    left: 12.1667%;
    top: -34.6667%;
    filter: blur(40px);
    background: rgba(36, 84, 255, 0.20);
    background: color-mix(in srgb, var(--color-rangam-blue) 55%, white 45%);
    opacity: 0.30;
  }

  .orb-3 {
    width: 40%;
    aspect-ratio: 1/1;
    left: 49.5833%;
    top: 18.8%;
    filter: blur(4px);
    background: linear-gradient(225deg,
        color-mix(in srgb, var(--color-rangam-orange) 55%, white 45%) 0%,
        rgba(36, 84, 255, 0.20) 100%);
    opacity: 0.30;
  }

  .orb-4 {
    width: 90%;
    aspect-ratio: 1/1;
    left: 71.75%;
    top: -32.5333%;
    filter: blur(6.7px);
    background: linear-gradient(225deg,
        transparent 0%,
        transparent 50%,
        rgba(255, 79, 0, 0.20) 50%,
        rgba(36, 84, 255, 0.20) 100%);
  }
  */

  @media (prefers-reduced-transparency: reduce) {
    .orb {
      filter: none;
      opacity: 0.35;
    }

    .app-bg::after {
      opacity: 0.75;
    }
  }
}